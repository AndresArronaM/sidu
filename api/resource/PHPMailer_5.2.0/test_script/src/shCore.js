/**
 * SyntaxHighlighter
 * http://alexgorbatchev.com/
 *
 * SyntaxHighlighter is donationware. If you are using it, please donate.
 * http://alexgorbatchev.com/wiki/SyntaxHighlighter:Donate
 *
 * @version
 * 2.0.296 (March 01 2009)
 * 
 * @copyright
 * Copyright (C) 2004-2009 Alex Gorbatchev.
 *
 * @license
 * This file is part of SyntaxHighlighter.
 * 
 * SyntaxHighlighter is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 * 
 * SyntaxHighlighter is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 * 
 * You should have received a copy of the GNU General Public License
 * along with SyntaxHighlighter.  If not, see <http://www.gnu.org/licenses/>.
 */
if(!window.SyntaxHighlighter)var SyntaxHighlighter=function(){var e={defaults:{"class-name":"","first-line":1,"font-size":null,highlight:null,"smart-tabs":!0,"tab-size":4,ruler:!1,gutter:!0,toolbar:!0,collapse:!1,"auto-links":!0,light:!1},config:{clipboardSwf:null,toolbarItemWidth:16,toolbarItemHeight:16,bloggerMode:!1,tagName:"pre",strings:{expandSource:"expand source",viewSource:"view source",copyToClipboard:"copy to clipboard",copyToClipboardConfirmation:"The code is in your clipboard now",print:"print",help:"?",alert:"SyntaxHighlighter\n\n",noBrush:"Can't find brush for: ",brushNotHtmlScript:"Brush wasn't configured for html-script option: ",aboutDialog:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>About SyntaxHighlighter</title></head><body style="font-family:Georgia,\'Times New Roman\',Times,serif;background-color:#fff;color:#000;font-size:1em;text-align:center;"><div style="text-align:center;margin-top:3em;"><div style="font-family:Geneva,Arial,Helvetica,sans-serif;font-size:xx-large;">SyntaxHighlighter</div><div style="font-size:.75em;margin-bottom:4em;"><div>version 2.0.296 (March 01 2009)</div><div><a href="http://alexgorbatchev.com" target="_blank" style="color:#0099FF;text-decoration:none;">http://alexgorbatchev.com</a></div></div><div>JavaScript code syntax highlighter.</div><div>Copyright 2004-2009 Alex Gorbatchev.</div></div></body></html>'},debug:!1},vars:{discoveredBrushes:null,spaceWidth:null,printFrame:null,highlighters:{}},brushes:{},regexLib:{multiLineCComments:/\/\*[\s\S]*?\*\//gm,singleLineCComments:/\/\/.*$/gm,singleLinePerlComments:/#.*$/gm,doubleQuotedString:/"(?:\.|(\\\")|[^\""\n])*"/g,singleQuotedString:/'(?:\.|(\\\')|[^\''\n])*'/g,multiLineDoubleQuotedString:/"(?:\.|(\\\")|[^\""])*"/g,multiLineSingleQuotedString:/'(?:\.|(\\\')|[^\''])*'/g,url:/\w+:\/\/[\w-.\/?%&=]*/g,phpScriptTags:{left:/(&lt;|<)\?=?/g,right:/\?(&gt;|>)/g},aspScriptTags:{left:/(&lt;|<)%=?/g,right:/%(&gt;|>)/g},scriptScriptTags:{left:/(&lt;|<)\s*script.*?(&gt;|>)/gi,right:/(&lt;|<)\/\s*script\s*(&gt;|>)/gi}},toolbar:{create:function(t){var n=document.createElement("DIV"),i=e.toolbar.items;for(var r in n.className="toolbar",i){var s=i[r],a=new s(t),l=a.create();t.toolbarCommands[r]=a,null!=l&&("string"==typeof l&&(l=e.toolbar.createButton(l,t.id,r)),l.className+="item "+r,n.appendChild(l))}return n},createButton:function(t,n,i){var r=document.createElement("a"),s=r.style,a=e.config,l=a.toolbarItemWidth,o=a.toolbarItemHeight;return r.href="#"+i,r.title=t,r.highlighterId=n,r.commandName=i,r.innerHTML=t,0==isNaN(l)&&(s.width=l+"px"),0==isNaN(o)&&(s.height=o+"px"),r.onclick=function(t){try{e.toolbar.executeCommand(this,t||window.event,this.highlighterId,this.commandName)}catch(t){e.utils.alert(t.message)}return!1},r},executeCommand:function(t,n,i,r,s){var a,l=e.vars.highlighters[i];return null==l||null==(a=l.toolbarCommands[r])?null:a.execute(t,n,s)},items:{expandSource:function(t){this.create=function(){if(1==t.getParam("collapse"))return e.config.strings.expandSource},this.execute=function(e,n,i){var r=t.div;e.parentNode.removeChild(e),r.className=r.className.replace("collapsed","")}},viewSource:function(t){this.create=function(){return e.config.strings.viewSource},this.execute=function(n,i,r){var s=e.utils.fixForBlogger(t.originalCode).replace(/</g,"&lt;"),a=e.utils.popup("","_blank",750,400,"location=0, resizable=1, menubar=0, scrollbars=1");s=e.utils.unindent(s),a.document.write("<pre>"+s+"</pre>"),a.document.close()}},copyToClipboard:function(t){var n,i=t.id;this.create=function(){var t=e.config;if(null==t.clipboardSwf)return null;function r(e){var t="";for(var n in e)t+="<param name='"+n+"' value='"+e[n]+"'/>";return t}function s(e){var t="";for(var n in e)t+=" "+n+"='"+e[n]+"'";return t}var a,l={width:t.toolbarItemWidth,height:t.toolbarItemHeight,id:i+"_clipboard",type:"application/x-shockwave-flash",title:e.config.strings.copyToClipboard},o={allowScriptAccess:"always",wmode:"transparent",flashVars:"highlighterId="+i,menu:"false"},c=t.clipboardSwf;return a=/msie/i.test(navigator.userAgent)?"<object"+s({classid:"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000",codebase:"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0"})+s(l)+">"+r(o)+r({movie:c})+"</object>":"<embed"+s(l)+s(o)+s({src:c})+"/>",n=document.createElement("div"),n.innerHTML=a,n},this.execute=function(n,i,r){var s=r.command;switch(s){case"get":var a=e.utils.unindent(e.utils.fixForBlogger(t.originalCode).replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&"));if(!window.clipboardData)return e.utils.unindent(a);window.clipboardData.setData("text",a);case"ok":e.utils.alert(e.config.strings.copyToClipboardConfirmation);break;case"error":e.utils.alert(r.message);break}}},printSource:function(t){this.create=function(){return e.config.strings.print},this.execute=function(n,i,r){var s=document.createElement("IFRAME"),a=null;function l(e,t){for(var n=t.getElementsByTagName("link"),i=0;i<n.length;i++)"stylesheet"==n[i].rel.toLowerCase()&&/shCore\.css$/.test(n[i].href)&&e.write('<link type="text/css" rel="stylesheet" href="'+n[i].href+'"></link>')}null!=e.vars.printFrame&&document.body.removeChild(e.vars.printFrame),e.vars.printFrame=s,s.style.cssText="position:absolute;width:0px;height:0px;left:-500px;top:-500px;",document.body.appendChild(s),a=s.contentWindow.document,l(a,window.document),a.write('<div class="'+t.div.className.replace("collapsed","")+' printing">'+t.div.innerHTML+"</div>"),a.close(),s.contentWindow.focus(),s.contentWindow.print()}},about:function(t){this.create=function(){return e.config.strings.help},this.execute=function(t,n){var i=e.utils.popup("","_blank",500,250,"scrollbars=0"),r=i.document;r.write(e.config.strings.aboutDialog),r.close(),i.focus()}}}},utils:{guid:function(e){return e+Math.round(1e6*Math.random()).toString()},merge:function(e,t){var n,i={};for(n in e)i[n]=e[n];for(n in t)i[n]=t[n];return i},toBoolean:function(e){switch(e){case"true":return!0;case"false":return!1}return e},popup:function(e,t,n,i,r){var s=(screen.width-n)/2,a=(screen.height-i)/2;r+=", left="+s+", top="+a+", width="+n+", height="+i,r=r.replace(/^,/,"");var l=window.open(e,t,r);return l.focus(),l},addEvent:function(e,t,n){e.attachEvent?(e["e"+t+n]=n,e[t+n]=function(){e["e"+t+n](window.event)},e.attachEvent("on"+t,e[t+n])):e.addEventListener(t,n,!1)},alert:function(t){alert(e.config.strings.alert+t)},findBrush:function(t,n){var i=e.vars.discoveredBrushes,r=null;if(null==i){for(var s in i={},e.brushes){var a=e.brushes[s].aliases;if(null!=a)for(var l=0;l<a.length;l++)i[a[l]]=s}e.vars.discoveredBrushes=i}return r=e.brushes[i[t]],null==r&&0!=n&&e.utils.alert(e.config.strings.noBrush+t),r},eachLine:function(e,t){for(var n=e.split("\n"),i=0;i<n.length;i++)n[i]=t(n[i]);return n.join("\n")},createRuler:function(){var e=document.createElement("div"),t=document.createElement("div"),n=10,i=1;while(i<=150)i%n===0?(e.innerHTML+=i,i+=(i+"").length):(e.innerHTML+="&middot;",i++);return t.className="ruler line",t.appendChild(e),t},trimFirstAndLastLines:function(e){return e.replace(/^[ ]*[\n]+|[\n]*[ ]*$/g,"")},parseParams:function(e){var t,n={},i=new XRegExp("^\\[(?<values>(.*?))\\]$"),r=new XRegExp("(?<name>[\\w-]+)\\s*:\\s*(?<value>[\\w-%#]+|\\[.*?\\]|\".*?\"|'.*?')\\s*;?","g");while(null!=(t=r.exec(e))){var s=t.value.replace(/^['"]|['"]$/g,"");if(null!=s&&i.test(s)){var a=i.exec(s);s=a.values.length>0?a.values.split(/\s*,\s*/):[]}n[t.name]=s}return n},decorate:function(t,n){return null==t||0==t.length||"\n"==t||(t=t.replace(/</g,"&lt;"),t=t.replace(/ {2,}/g,(function(e){for(var t="",n=0;n<e.length-1;n++)t+="&nbsp;";return t+" "})),null!=n&&(t=e.utils.eachLine(t,(function(e){if(0==e.length)return"";var t="";return e=e.replace(/^(&nbsp;| )+/,(function(e){return t=e,""})),0==e.length?t:t+'<code class="'+n+'">'+e+"</code>"})))),t},padNumber:function(e,t){var n=e.toString();while(n.length<t)n="0"+n;return n},measureSpace:function(){var t,n=document.createElement("div"),i=0,r=document.body,s=e.utils.guid("measureSpace"),a='<div class="',l="</div>",o="</span>";if(n.innerHTML=a+'syntaxhighlighter">'+a+'lines">'+a+'line">'+a+'content"><span class="block"><span id="'+s+'">&nbsp;'+o+o+l+l+l+l,r.appendChild(n),t=document.getElementById(s),/opera/i.test(navigator.userAgent)){var c=window.getComputedStyle(t,null);i=parseInt(c.getPropertyValue("width"))}else i=t.offsetWidth;return r.removeChild(n),i},processTabs:function(e,t){for(var n="",i=0;i<t;i++)n+=" ";return e.replace(/\t/g,n)},processSmartTabs:function(t,n){t.split("\n");for(var i="\t",r="",s=0;s<50;s++)r+="                    ";function a(e,t,n){return e.substr(0,t)+r.substr(0,n)+e.substr(t+1,e.length)}return t=e.utils.eachLine(t,(function(e){if(-1==e.indexOf(i))return e;var t=0;while(-1!=(t=e.indexOf(i))){var r=n-t%n;e=a(e,t,r)}return e})),t},fixForBlogger:function(t){return 1==e.config.bloggerMode?t.replace(/<br\s*\/?>|&lt;br\s*\/?&gt;/gi,"\n"):t},trim:function(e){return e.replace(/\s*$/g,"").replace(/^\s*/,"")},unindent:function(t){for(var n=e.utils.fixForBlogger(t).split("\n"),i=(new Array,/^\s*/),r=1e3,s=0;s<n.length&&r>0;s++){var a=n[s];if(0!=e.utils.trim(a).length){var l=i.exec(a);if(null==l)return t;r=Math.min(l[0].length,r)}}if(r>0)for(s=0;s<n.length;s++)n[s]=n[s].substr(r);return n.join("\n")},matchesSortCallback:function(e,t){return e.index<t.index?-1:e.index>t.index?1:e.length<t.length?-1:e.length>t.length?1:0},getMatches:function(t,n){function i(t,n){return[new e.Match(t[0],t.index,n.css)]}var r=null,s=[],a=n.func?n.func:i;while(null!=(r=n.regex.exec(t)))s=s.concat(a(r,n));return s},processUrls:function(t){return t.replace(e.regexLib.url,(function(e){return'<a href="'+e+'">'+e+"</a>"}))}},highlight:function(t,n){function i(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t}var r=n?[n]:i(document.getElementsByTagName(e.config.tagName)),s="innerHTML",a=null;if(0!==r.length)for(var l=0;l<r.length;l++){var o,c=r[l],u=e.utils.parseParams(c.className);if(u=e.utils.merge(t,u),o=u["brush"],null!=o){if("true"==u["html-script"])a=new e.HtmlScript(o);else{var h=e.utils.findBrush(o);if(!h)continue;a=new h}a.highlight(c[s],u);var g=a.div;e.config.debug&&(g=document.createElement("textarea"),g.value=a.div.innerHTML,g.style.width="70em",g.style.height="30em"),c.parentNode.replaceChild(g,c)}}},all:function(t){e.utils.addEvent(window,"load",(function(){e.highlight(t)}))},Match:function(e,t,n){this.value=e,this.index=t,this.length=e.length,this.css=n}};return e.Match.prototype.toString=function(){return this.value},e.HtmlScript=function(t){var n=e.utils.findBrush(t),i=new e.brushes.Xml;function r(e,t){for(var n=0;n<e.length;n++)e[n].index+=t}function s(t,i){for(var s,a=t.code,l=[],o=n.regexList,c=t.index+t.left.length,u=n.htmlScript,h=0;h<o.length;h++)s=e.utils.getMatches(a,o[h]),r(s,c),l=l.concat(s);return null!=u.left&&null!=t.left&&(s=e.utils.getMatches(t.left,u.left),r(s,t.index),l=l.concat(s)),null!=u.right&&null!=t.right&&(s=e.utils.getMatches(t.right,u.right),r(s,t.index+t[0].lastIndexOf(t.right)),l=l.concat(s)),l}null!=n&&(n=new n,this.xmlBrush=i,null!=n.htmlScript?i.regexList.push({regex:n.htmlScript.code,func:s}):e.utils.alert(e.config.strings.brushNotHtmlScript+t))},e.HtmlScript.prototype.highlight=function(e,t){this.xmlBrush.highlight(e,t),this.div=this.xmlBrush.div},e.Highlighter=function(){},e.Highlighter.prototype={getParam:function(t,n){var i=this.params[t];return e.utils.toBoolean(null==i?n:i)},create:function(e){return document.createElement(e)},isMatchNested:function(e){for(var t=0;t<this.matches.length;t++){var n=this.matches[t];if(null!==n&&(e.index>n.index&&e.index<n.index+n.length))return!0}return!1},findMatches:function(t,n){var i=[];if(null!=t)for(var r=0;r<t.length;r++)i=i.concat(e.utils.getMatches(n,t[r]));return i=i.sort(e.utils.matchesSortCallback),i},removeNestedMatches:function(){for(var e=0;e<this.matches.length;e++)this.isMatchNested(this.matches[e])&&(this.matches[e]=null)},createDisplayLines:function(t){var n=t.split(/\n/g),i=parseInt(this.getParam("first-line")),r=(i+n.length).toString().length,s=this.getParam("highlight",[]);t="";for(var a=0;a<n.length;a++){var l=n[a],o=/^(&nbsp;|\s)+/.exec(l),c="line alt"+(a%2==0?1:2),u=e.utils.padNumber(i+a,r),h=-1!=s.indexOf((i+a).toString()),g=null;null!=o?(g=o[0].toString(),l=l.substr(g.length),g=g.replace(/&nbsp;/g," "),o=e.vars.spaceWidth*g.length):o=0,l=e.utils.trim(l),0==l.length&&(l="&nbsp;"),h&&(c+=" highlighted"),t+='<div class="'+c+'"><code class="number">'+u+'.</code><span class="content">'+(null!=g?'<code class="spaces">'+g.replace(/\s/g,"&nbsp;")+"</code>":"")+'<span class="block" style="margin-left: '+o+'px !important;">'+l+"</span></span></div>"}return t},processMatches:function(t,n){for(var i=0,r="",s=e.utils.decorate,a=0;a<n.length;a++){var l=n[a];null!==l&&0!==l.length&&(r+=s(t.substr(i,l.index-i),"plain")+s(l.value,l.css),i=l.index+l.length)}return r+=s(t.substr(i),"plain"),r},highlight:function(t,n){e.config;var i,r,s=e.vars;this.params={},this.div=null,this.lines=null,this.code=null,this.bar=null,this.toolbarCommands={},this.id=e.utils.guid("highlighter_"),s.highlighters[this.id]=this,null===t&&(t=""),null===s.spaceWidth&&(s.spaceWidth=e.utils.measureSpace()),this.params=e.utils.merge(e.defaults,n||{}),1==this.getParam("light")&&(this.params.toolbar=this.params.gutter=!1),this.div=i=this.create("DIV"),this.lines=this.create("DIV"),this.lines.className="lines",i.className="syntaxhighlighter",i.id=this.id,this.getParam("collapse")&&(i.className+=" collapsed"),0==this.getParam("gutter")&&(i.className+=" nogutter"),i.className+=" "+this.getParam("class-name"),i.style.fontSize=this.getParam("font-size",""),this.originalCode=t,this.code=e.utils.trimFirstAndLastLines(t).replace(/\r/g," "),r=this.getParam("tab-size"),this.code=1==this.getParam("smart-tabs")?e.utils.processSmartTabs(this.code,r):e.utils.processTabs(this.code,r),this.code=e.utils.unindent(this.code),this.getParam("toolbar")&&(this.bar=this.create("DIV"),this.bar.className="bar",this.bar.appendChild(e.toolbar.create(this)),i.appendChild(this.bar)),this.getParam("ruler")&&i.appendChild(e.utils.createRuler()),i.appendChild(this.lines),this.matches=this.findMatches(this.regexList,this.code),this.removeNestedMatches(),t=this.processMatches(this.code,this.matches),t=this.createDisplayLines(e.utils.trim(t)),this.getParam("auto-links")&&(t=e.utils.processUrls(t)),this.lines.innerHTML=t},getKeywords:function(e){return e=e.replace(/^\s+|\s+$/g,"").replace(/\s+/g,"\\b|\\b"),"\\b"+e+"\\b"},forHtmlScript:function(e){this.htmlScript={left:{regex:e.left,css:"script"},right:{regex:e.right,css:"script"},code:new XRegExp("(?<left>"+e.left.source+")(?<code>.*?)(?<right>"+e.right.source+")","sgi")}}},e}();Array.indexOf||(Array.prototype.indexOf=function(e,t){t=Math.max(t||0,0);for(var n=t;n<this.length;n++)if(this[n]==e)return n;return-1}),window.XRegExp||function(){var e={exec:RegExp.prototype.exec,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},t={part:/(?:[^\\([#\s.]+|\\(?!k<[\w$]+>|[pP]{[^}]+})[\S\s]?|\((?=\?(?!#|<[\w$]+>)))+|(\()(?:\?(?:(#)[^)]*\)|<([$\w]+)>))?|\\(?:k<([\w$]+)>|[pP]{([^}]+)})|(\[\^?)|([\S\s])/g,replaceVar:/(?:[^$]+|\$(?![1-9$&`']|{[$\w]+}))+|\$(?:([1-9]\d*|[$&`'])|{([$\w]+)})/g,extended:/^(?:\s+|#.*)+/,quantifier:/^(?:[?*+]|{\d+(?:,\d*)?})/,classLeft:/&&\[\^?/g,classRight:/]/g},n=function(e,t,n){for(var i=n||0;i<e.length;i++)if(e[i]===t)return i;return-1},i=void 0!==/()??/.exec("")[1],r={};XRegExp=function(i,s){if(i instanceof RegExp){if(void 0!==s)throw TypeError("can't supply flags when constructing one RegExp from another");return i.addFlags()}s=s||"";var a,l,o,c,u,h=s.indexOf("s")>-1,g=s.indexOf("x")>-1,d=!1,p=[],f=[],m=t.part;m.lastIndex=0;while(a=e.exec.call(m,i))a[2]?t.quantifier.test(i.slice(m.lastIndex))||f.push("(?:)"):a[1]?(p.push(a[3]||null),a[3]&&(d=!0),f.push("(")):a[4]?(c=n(p,a[4]),f.push(c>-1?"\\"+(c+1)+(isNaN(i.charAt(m.lastIndex))?"":"(?:)"):a[0])):a[5]?f.push(r.unicode?r.unicode.get(a[5],"P"===a[0].charAt(1)):a[0]):a[6]?"]"===i.charAt(m.lastIndex)?(f.push("["===a[6]?"(?!)":"[\\S\\s]"),m.lastIndex++):(l=XRegExp.matchRecursive("&&"+i.slice(a.index),t.classLeft,t.classRight,"",{escapeChar:"\\"})[0],f.push(a[6]+l+"]"),m.lastIndex+=l.length+1):a[7]?h&&"."===a[7]?f.push("[\\S\\s]"):g&&t.extended.test(a[7])?(o=e.exec.call(t.extended,i.slice(m.lastIndex-1))[0].length,t.quantifier.test(i.slice(m.lastIndex-1+o))||f.push("(?:)"),m.lastIndex+=o-1):f.push(a[7]):f.push(a[0]);return u=RegExp(f.join(""),e.replace.call(s,/[sx]+/g,"")),u._x={source:i,captureNames:d?p:null},u},XRegExp.addPlugin=function(e,t){r[e]=t},RegExp.prototype.exec=function(t){var n,r,s,a=e.exec.call(this,t);if(a){if(i&&a.length>1&&(s=new RegExp("^"+this.source+"$(?!\\s)",this.getNativeFlags()),e.replace.call(a[0],s,(function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(a[r]=void 0)}))),this._x&&this._x.captureNames)for(r=1;r<a.length;r++)n=this._x.captureNames[r-1],n&&(a[n]=a[r]);this.global&&this.lastIndex>a.index+a[0].length&&this.lastIndex--}return a}}(),RegExp.prototype.getNativeFlags=function(){return(this.global?"g":"")+(this.ignoreCase?"i":"")+(this.multiline?"m":"")+(this.extended?"x":"")+(this.sticky?"y":"")},RegExp.prototype.addFlags=function(e){var t=new XRegExp(this.source,(e||"")+this.getNativeFlags());return this._x&&(t._x={source:this._x.source,captureNames:this._x.captureNames?this._x.captureNames.slice(0):null}),t},RegExp.prototype.call=function(e,t){return this.exec(t)},RegExp.prototype.apply=function(e,t){return this.exec(t[0])},XRegExp.cache=function(e,t){var n="/"+e+"/"+(t||"");return XRegExp.cache[n]||(XRegExp.cache[n]=new XRegExp(e,t))},XRegExp.escape=function(e){return e.replace(/[-[\]{}()*+?.\\^$|,#\s]/g,"\\$&")},XRegExp.matchRecursive=function(e,t,n,i,r){r=r||{};var s,a,l,o,c,u,h=r.escapeChar,g=r.valueNames,d=(i=i||"",i.indexOf("g")>-1),p=i.indexOf("i")>-1,f=i.indexOf("m")>-1,m=i.indexOf("y")>-1,x=(i=i.replace(/y/g,""),t=t instanceof RegExp?t.global?t:t.addFlags("g"):new XRegExp(t,"g"+i),n=n instanceof RegExp?n.global?n:n.addFlags("g"):new XRegExp(n,"g"+i),[]),v=0,b=0,w=0,y=0;if(h){if(h.length>1)throw SyntaxError("can't supply more than one escape character");if(f)throw TypeError("can't supply escape character when using the multiline flag");c=XRegExp.escape(h),u=new RegExp("^(?:"+c+"[\\S\\s]|(?:(?!"+t.source+"|"+n.source+")[^"+c+"])+)+",p?"i":"")}while(1){if(t.lastIndex=n.lastIndex=w+(h?(u.exec(e.slice(w))||[""])[0].length:0),l=t.exec(e),o=n.exec(e),l&&o&&(l.index<=o.index?o=null:l=null),l||o)b=(l||o).index,w=(l?t:n).lastIndex;else if(!v)break;if(m&&!v&&b>y)break;if(l)v++||(s=b,a=w);else{if(!o||!v)throw t.lastIndex=n.lastIndex=0,Error("subject data contains unbalanced delimiters");if(!--v&&(g?(g[0]&&s>y&&x.push([g[0],e.slice(y,s),y,s]),g[1]&&x.push([g[1],e.slice(s,a),s,a]),g[2]&&x.push([g[2],e.slice(a,b),a,b]),g[3]&&x.push([g[3],e.slice(b,w),b,w])):x.push(e.slice(a,b)),y=w,!d))break}b===w&&w++}return d&&!m&&g&&g[0]&&e.length>y&&x.push([g[0],e.slice(y),y,e.length]),t.lastIndex=n.lastIndex=0,x};